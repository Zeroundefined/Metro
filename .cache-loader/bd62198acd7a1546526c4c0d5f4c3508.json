{"remainingRequest":"/Users/zhangmuren/project/Metro/node_modules/thread-loader/dist/cjs.js??ref--4-1!/Users/zhangmuren/project/Metro/node_modules/ts-loader/index.js??ref--4-2!/Users/zhangmuren/project/Metro/src/pages/Reports/ReportCard/MaterialCard.tsx","dependencies":[{"path":"/Users/zhangmuren/project/Metro/src/pages/Reports/ReportCard/MaterialCard.tsx","mtime":1530424825000},{"path":"/Users/zhangmuren/project/Metro/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/zhangmuren/project/Metro/node_modules/thread-loader/dist/cjs.js","mtime":0},{"path":"/Users/zhangmuren/project/Metro/node_modules/ts-loader/index.js","mtime":1528433923000}],"contextDependencies":[],"result":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst ReactHighcharts = require(\"react-highcharts\");\nrequire(\"./MaterialCard.scss\");\nconst components_1 = require(\"src/components\");\nclass MaterialCard extends React.Component {\n    constructor() {\n        super(...arguments);\n        this.handleConf = () => {\n            const { data } = this.props;\n            let conf = [];\n            data && Object.entries(data).map(list => {\n                let materials = [];\n                list[1].map(item => {\n                    materials.push([item.staut, item.ratio]);\n                });\n                conf.push({\n                    chart: {\n                        spacing: [0, 20, 20, 0],\n                        backgroundColor: '#030B1E',\n                    },\n                    title: {\n                        text: list[0],\n                        style: {\n                            color: '#ffffff'\n                        }\n                    },\n                    tooltip: {\n                        pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n                    },\n                    plotOptions: {\n                        pie: {\n                            allowPointSelect: true,\n                            cursor: 'pointer',\n                            dataLabels: {\n                                enabled: true,\n                                format: '<b>{point.name}</b>: {point.percentage:.1f} %',\n                                style: {\n                                    color: '#ffffff'\n                                }\n                            }\n                        }\n                    },\n                    series: [{\n                            type: 'pie',\n                            innerSize: '60%',\n                            name: '市场份额',\n                            data: materials\n                        }],\n                    colors: ['#E09343', '#55F4F0', '#53BFFD']\n                });\n            });\n            return conf;\n        };\n    }\n    render() {\n        const { data } = this.props;\n        return React.createElement(components_1.Card, { className: 'material-card', title: '\\u7269\\u8D44\\u6A21\\u5757', style: { marginBottom: 30 } }, Object.keys(data).length ?\n            this.handleConf().map(chart => {\n                return React.createElement(\"div\", { style: { minWidth: '220px', width: '50%' } },\n                    React.createElement(ReactHighcharts, { config: chart }));\n            }) :\n            React.createElement(\"div\", { style: { textAlign: 'center', margin: '50px 0', color: '#827f7f' } }, \"\\u6682\\u65E0\\u7269\\u8D44\\u6570\\u636E\"));\n    }\n}\nexports.MaterialCard = MaterialCard;\n",{"version":3,"file":"/Users/zhangmuren/project/Metro/src/pages/Reports/ReportCard/MaterialCard.tsx","sourceRoot":"","sources":["/Users/zhangmuren/project/Metro/src/pages/Reports/ReportCard/MaterialCard.tsx"],"names":[],"mappings":";;AAAA,+BAA+B;AAC/B,oDAAoD;AACpD,+BAA6B;AAC7B,+CAEwB;AAMxB,kBAA0B,SAAQ,KAAK,CAAC,SAAgB;IAAxD;;QACE,eAAU,GAAG,GAAG,EAAE;YAChB,MAAM,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;YAC5B,IAAI,IAAI,GAAG,EAAE,CAAC;YACd,IAAI,IAAI,MAAM,CAAC,OAAO,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;gBACtC,IAAI,SAAS,GAAG,EAAE,CAAC;gBAClB,IAAI,CAAC,CAAC,CAAS,CAAC,GAAG,CAAC,IAAI,CAAC,EAAE;oBAC1B,SAAS,CAAC,IAAI,CAAC,CAAC,IAAI,CAAC,KAAK,EAAE,IAAI,CAAC,KAAK,CAAC,CAAC,CAAA;gBAC1C,CAAC,CAAC,CAAC;gBACH,IAAI,CAAC,IAAI,CAAC;oBACR,KAAK,EAAE;wBACL,OAAO,EAAE,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC;wBACvB,eAAe,EAAG,SAAS;qBAC5B;oBACD,KAAK,EAAE;wBACL,IAAI,EAAE,IAAI,CAAC,CAAC,CAAC;wBACb,KAAK,EAAE;4BACL,KAAK,EAAE,SAAS;yBACjB;qBACF;oBACD,OAAO,EAAE;wBACP,WAAW,EAAE,+CAA+C;qBAC7D;oBACD,WAAW,EAAE;wBACX,GAAG,EAAE;4BACH,gBAAgB,EAAE,IAAI;4BACtB,MAAM,EAAE,SAAS;4BACjB,UAAU,EAAE;gCACV,OAAO,EAAE,IAAI;gCACb,MAAM,EAAE,+CAA+C;gCACvD,KAAK,EAAE;oCACL,KAAK,EAAE,SAAS;iCACjB;6BACF;yBACF;qBACF;oBACD,MAAM,EAAE,CAAC;4BACP,IAAI,EAAE,KAAK;4BACX,SAAS,EAAE,KAAK;4BAChB,IAAI,EAAE,MAAM;4BACZ,IAAI,EAAE,SAAS;yBAChB,CAAC;oBACF,MAAM,EAAE,CAAC,SAAS,EAAE,SAAS,EAAE,SAAS,CAAC;iBAC1C,CAAC,CAAA;YACJ,CAAC,CAAC,CAAA;YACF,OAAO,IAAI,CAAC;QACd,CAAC,CAAA;IA8BH,CAAC;IA7BC,MAAM;QACJ,MAAM,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC,KAAK,CAAC;QAC5B,OAAO,oBAAC,iBAAI,IAAC,SAAS,EAAC,eAAe,EAAC,KAAK,EAAC,0BAAM,EAAC,KAAK,EAAE,EAAE,YAAY,EAAE,EAAE,EAAC,IAE1E,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,MAAM,CAAC,CAAC;YAC1B,IAAI,CAAC,UAAU,EAAE,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE;gBAC5B,OAAO,6BAAK,KAAK,EAAE,EAAE,QAAQ,EAAE,OAAO,EAAE,KAAK,EAAE,KAAK,EAAE;oBAAE,oBAAC,eAAe,IAAC,MAAM,EAAE,KAAK,GAAI,CAAM,CAAA;YAClG,CAAC,CAAC,CAAC,CAAC;YACJ,6BAAK,KAAK,EAAE,EAAC,SAAS,EAAE,QAAQ,EAAE,MAAM,EAAE,QAAQ,EAAE,KAAK,EAAE,SAAS,EAAC,2CAAc,CAmBhF,CAAA;IACT,CAAC;CACF;AA5ED,oCA4EC","sourcesContent":["import * as React from 'react';\nimport * as ReactHighcharts from 'react-highcharts';\nimport './MaterialCard.scss';\nimport {\n  Card\n} from 'src/components';\n\ninterface Props {\n  data: any\n}\n\nexport class MaterialCard extends React.Component<Props> {\n  handleConf = () => {\n    const { data } = this.props;\n    let conf = [];\n    data && Object.entries(data).map(list => {\n      let materials = [];\n      (list[1] as any).map(item => {\n        materials.push([item.staut, item.ratio])\n      });\n      conf.push({\n        chart: {\n          spacing: [0, 20, 20, 0],\n          backgroundColor : '#030B1E',\n        },\n        title: {\n          text: list[0],\n          style: {\n            color: '#ffffff'\n          }\n        },\n        tooltip: {\n          pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n        },\n        plotOptions: {\n          pie: {\n            allowPointSelect: true,\n            cursor: 'pointer',\n            dataLabels: {\n              enabled: true,\n              format: '<b>{point.name}</b>: {point.percentage:.1f} %',\n              style: {\n                color: '#ffffff'\n              }\n            }\n          }\n        },\n        series: [{\n          type: 'pie',\n          innerSize: '60%',\n          name: '市场份额',\n          data: materials\n        }],\n        colors: ['#E09343', '#55F4F0', '#53BFFD']\n      })\n    })\n    return conf;\n  }\n  render() {\n    const { data } = this.props;\n    return <Card className='material-card' title='物资模块' style={{ marginBottom: 30}}>\n      {\n        Object.keys(data).length ? \n        this.handleConf().map(chart => {\n          return <div style={{ minWidth: '220px', width: '50%' }}><ReactHighcharts config={chart} /></div>\n        }) :\n        <div style={{textAlign: 'center', margin: '50px 0', color: '#827f7f'}}>暂无物资数据</div>\n      }\n      {/*<\n      ReactHighcharts config = {\n        conf1\n      }\n    /> <\n    ReactHighcharts config = {\n      conf2\n    }\n    /> <\n    ReactHighcharts config = {\n      conf3\n    }\n    /> <\n    ReactHighcharts config = {\n      conf4\n    }\n    /> */}\n    </Card>\n  }\n}"]}]}