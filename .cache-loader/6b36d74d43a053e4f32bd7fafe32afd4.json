{"remainingRequest":"/Users/zhangmuren/project/Metro/node_modules/thread-loader/dist/cjs.js??ref--4-1!/Users/zhangmuren/project/Metro/node_modules/ts-loader/index.js??ref--4-2!/Users/zhangmuren/project/Metro/src/pages/Reports/ReportCard/CheckInCard.tsx","dependencies":[{"path":"/Users/zhangmuren/project/Metro/src/pages/Reports/ReportCard/CheckInCard.tsx","mtime":1530429481000},{"path":"/Users/zhangmuren/project/Metro/node_modules/cache-loader/dist/cjs.js","mtime":0},{"path":"/Users/zhangmuren/project/Metro/node_modules/thread-loader/dist/cjs.js","mtime":0},{"path":"/Users/zhangmuren/project/Metro/node_modules/ts-loader/index.js","mtime":1528433923000}],"contextDependencies":[],"result":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst React = require(\"react\");\nconst ReactHighcharts = require(\"react-highcharts\");\nrequire(\"./CheckInCard.scss\");\nconst components_1 = require(\"src/components\");\nconst tableConst_1 = require(\"../../../constant/tableConst\");\nclass CheckInCard extends React.Component {\n    render() {\n        const { data, timeRange } = this.props;\n        let fromDate = new Date(timeRange[0]).toLocaleDateString();\n        let toDate = new Date(timeRange[1]).toLocaleDateString();\n        const { hourDivided, duration, count } = data;\n        let categories = [];\n        let datas = [];\n        tableConst_1.hoursList.map(hour => {\n            let currentHour = hourDivided.find(item => item.key == hour);\n            categories.push(`${hour}点`);\n            datas.push(currentHour ? currentHour.value : 0);\n        });\n        const line = {\n            chart: {\n                type: 'column',\n                backgroundColor: '#030B1E',\n            },\n            title: {\n                text: '巡检信息',\n                style: {\n                    color: '#ffffff'\n                }\n            },\n            xAxis: {\n                categories: categories,\n                lables: {\n                    style: {\n                        color: '#ffffff'\n                    }\n                }\n            },\n            yAxis: {\n                title: {\n                    text: '巡检信息',\n                    style: {\n                        color: '#ffffff'\n                    }\n                },\n                lables: {\n                    style: {\n                        color: '#ffffff'\n                    }\n                }\n            },\n            plotOptions: {\n                line: {\n                    dataLabels: {\n                        // 开启数据标签\n                        enabled: true\n                    },\n                    // 关闭鼠标跟踪，对应的提示框、点击事件会失效\n                    enableMouseTracking: false\n                }\n            },\n            series: [{\n                    name: '时间',\n                    data: datas\n                }],\n            legend: {\n                itemStyle: {\n                    color: '#ffffff'\n                }\n            },\n            colors: ['#63DFFB']\n        };\n        // const cyclic = {\n        //   chart: {\n        //     spacing: [40, 0, 40, 0],\n        //     backgroundColor : '#030B1E',\n        //   },\n        //   title: {\n        //     floating: true,\n        //     text: '圆心显示的标题'\n        //   },\n        //   tooltip: {\n        //     pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n        //   },\n        //   plotOptions: {\n        //     pie: {\n        //       allowPointSelect: true,\n        //       cursor: 'pointer',\n        //       dataLabels: {\n        //         enabled: true,\n        //         format: '<b>{point.name}</b>: {point.percentage:.1f} %',\n        //         style: {\n        //           color: 'black'\n        //         }\n        //       }\n        //     }\n        //   },\n        //   series: [{\n        //     type: 'pie',\n        //     innerSize: '80%',\n        //     name: '市场份额',\n        //     data: [\n        //       { name: 'Firefox', y: 45.0, url: 'http://bbs.hcharts.cn' },\n        //       ['IE', 26.8],\n        //       {\n        //         name: 'Chrome',\n        //         y: 12.8,\n        //         sliced: true,\n        //         selected: true,\n        //         url: 'http://www.hcharts.cn'\n        //       },\n        //       ['Safari', 8.5],\n        //       ['Opera', 6.2],\n        //       ['其他', 0.7]\n        //     ]\n        //   }]\n        // }\n        return React.createElement(\"div\", { style: { marginBottom: 30 } },\n            React.createElement(components_1.Card, { className: 'equip-card', title: '\\u5DE1\\u68C0\\u4FE1\\u606F' },\n                hourDivided && hourDivided.length ?\n                    React.createElement(\"div\", { style: { flex: 1 } },\n                        React.createElement(ReactHighcharts, { config: line }),\n                        React.createElement(\"div\", { style: { padding: '20px 40px' } })) :\n                    React.createElement(\"div\", { style: { flex: 1, textAlign: 'center', margin: '50px 0', color: '#827f7f' } }, \" \\u6682\\u65E0\\u5DE1\\u68C0\\u4FE1\\u606F\"),\n                duration !== null ?\n                    React.createElement(\"div\", { style: { margin: '40px 0 0', textAlign: 'center', flex: 1, position: 'relative' } },\n                        React.createElement(\"div\", { className: \"frequent\", style: { fontSize: '60px', color: '#3cc5d4' } }, duration),\n                        React.createElement(\"div\", { className: \"text\", style: { fontSize: '30px' } }, \"\\u5E73\\u5747\\u65F6\\u957F\"),\n                        React.createElement(\"div\", null,\n                            \"\\u4ECA\\u65E5\\u79FB\\u52A8\\u5DE1\\u68C0\\u5171 \",\n                            count || 0,\n                            \" \\u8D77\"),\n                        React.createElement(\"div\", { style: { position: 'absolute', bottom: '0', padding: '20px 40px' } },\n                            fromDate,\n                            \"-\",\n                            toDate,\n                            \"\\u79FB\\u52A8\\u70B9\\u5DE1\\u68C0\\u7CFB\\u7EDF\\u5171\\u8BA1\\u5904\\u7406\",\n                            count || 0,\n                            \"\\u6B21\\u70B9\\u5DE1\\u68C0\\u4F5C\\u4E1A\\uFF0C\\u5171\\u8BA1\\u8017\\u65F6\",\n                            ((count || 0) * (duration || 0)).toFixed(2),\n                            \"\\u5206\\u949F\\uFF0C\\u5E73\\u5747\\u6BCF\\u6B21\\u5DE1\\u68C0\\u8017\\u65F6\",\n                            duration,\n                            \"\\u5206\\u949F\\u3002\"))\n                    :\n                        React.createElement(\"div\", { style: { flex: 1, textAlign: 'center', margin: '50px 0', color: '#827f7f' } }, \"\\u6682\\u65E0\\u5E73\\u5747\\u65F6\\u957F\\u4FE1\\u606F\")));\n    }\n}\nexports.CheckInCard = CheckInCard;\n",{"version":3,"file":"/Users/zhangmuren/project/Metro/src/pages/Reports/ReportCard/CheckInCard.tsx","sourceRoot":"","sources":["/Users/zhangmuren/project/Metro/src/pages/Reports/ReportCard/CheckInCard.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\nimport * as ReactHighcharts from 'react-highcharts';\nimport './CheckInCard.scss';\nimport { Card } from 'src/components';\nimport { relative } from 'path';\nimport { Divider } from 'antd';\nimport {hoursList} from '../../../constant/tableConst';\n\ninterface Props {\n  data: any\n  timeRange: any\n}\nexport class CheckInCard extends React.Component<Props> {\n  render() {\n    const {data, timeRange} = this.props;\n    let fromDate = new Date(timeRange[0]).toLocaleDateString();\n    let toDate = new Date(timeRange[1]).toLocaleDateString();\n    const { hourDivided, duration, count } = data;\n    let categories = [];\n    let datas =[];\n\n    hoursList.map(hour => {\n      let currentHour = hourDivided.find(item => item.key == hour);\n      categories.push(`${hour}点`);\n      datas.push(currentHour ? currentHour.value : 0)\n    })\n\n    const line = {\n      chart: {\n        type: 'column',\n        backgroundColor : '#030B1E',\n      },\n      title: {\n        text: '巡检信息',\n        style: {\n          color: '#ffffff'\n        }\n      },\n      xAxis: {\n        categories: categories,\n        lables: {\n          style: {\n            color: '#ffffff'\n          }\n        }\n      },\n      yAxis: {\n        title: {\n          text: '巡检信息',\n          style: {\n            color: '#ffffff'\n          }\n        },\n        lables: {\n          style: {\n            color: '#ffffff'\n          }\n        }\n      },\n      plotOptions: {\n        line: {\n          dataLabels: {\n            // 开启数据标签\n            enabled: true\n          },\n          // 关闭鼠标跟踪，对应的提示框、点击事件会失效\n          enableMouseTracking: false\n        }\n      },\n      series: [{\n        name: '时间',\n        data: datas\n      }],\n      legend: {\n        itemStyle: {\n          color: '#ffffff'\n        }\n      },\n      colors: ['#63DFFB']\n    }\n\n    // const cyclic = {\n    //   chart: {\n    //     spacing: [40, 0, 40, 0],\n    //     backgroundColor : '#030B1E',\n    //   },\n    //   title: {\n    //     floating: true,\n    //     text: '圆心显示的标题'\n    //   },\n    //   tooltip: {\n    //     pointFormat: '{series.name}: <b>{point.percentage:.1f}%</b>'\n    //   },\n    //   plotOptions: {\n    //     pie: {\n    //       allowPointSelect: true,\n    //       cursor: 'pointer',\n    //       dataLabels: {\n    //         enabled: true,\n    //         format: '<b>{point.name}</b>: {point.percentage:.1f} %',\n    //         style: {\n    //           color: 'black'\n    //         }\n    //       }\n    //     }\n    //   },\n    //   series: [{\n    //     type: 'pie',\n    //     innerSize: '80%',\n    //     name: '市场份额',\n    //     data: [\n    //       { name: 'Firefox', y: 45.0, url: 'http://bbs.hcharts.cn' },\n    //       ['IE', 26.8],\n    //       {\n    //         name: 'Chrome',\n    //         y: 12.8,\n    //         sliced: true,\n    //         selected: true,\n    //         url: 'http://www.hcharts.cn'\n    //       },\n    //       ['Safari', 8.5],\n    //       ['Opera', 6.2],\n    //       ['其他', 0.7]\n    //     ]\n    //   }]\n    // }\n\n    return <div style={{marginBottom: 30}}>\n      <Card className='equip-card' title='巡检信息'>\n        {hourDivided && hourDivided.length ?\n          <div style={{flex: 1}}><ReactHighcharts config={line} />\n            <div style={{padding: '20px 40px'}}>\n            </div>\n          </div>:\n          <div style={{flex: 1, textAlign: 'center', margin: '50px 0', color: '#827f7f' }}> 暂无巡检信息</div>\n        }\n        {\n          duration !==null ? \n          <div style={{ margin: '40px 0 0', textAlign: 'center', flex: 1, position: 'relative' }}>\n            <div className=\"frequent\" style={{fontSize: '60px', color: '#3cc5d4'}}>{duration}</div>\n            <div className=\"text\" style={{fontSize: '30px'}}>平均时长</div>\n            <div>今日移动巡检共 {count || 0} 起</div>\n          <div style={{position: 'absolute', bottom: '0', padding: '20px 40px'}}>\n            {fromDate}-{toDate}移动点巡检系统共计处理{count || 0}次点巡检作业，共计耗时{((count || 0)*(duration || 0)).toFixed(2)}分钟，平均每次巡检耗时{duration}分钟。\n          </div>\n        </div>\n          :\n          <div style={{flex: 1, textAlign: 'center', margin: '50px 0', color: '#827f7f'}}>暂无平均时长信息</div>\n        }\n        \n          \n      </Card>\n    </div>\n  }\n}"]}]}